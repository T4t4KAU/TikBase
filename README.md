# 分布式KV存储系统

基于 Go 语言开发，学习存储方面的知识

服务端启动方式(占用9096端口)：
```bash
go run main.go -proto tiko -name cache
```

客户端启动方式：
```bash
go run client/main.go
```

命令行操作：
```bash
 _____ _ _    ____                 
|_   _(_) | _| __ )  __ _ ___  ___ 
  | | | | |/ /  _ \ / _` / __|/ _ \
  | | | |   <| |_) | (_| \__ \  __/
  |_| |_|_|\_\____/ \__,_|___/\___|

connecting to:  127.0.0.1:9096
> set key value   # 设置键值对
[OK]
> get key
value
> expire key 3   # 设置过期时间
[OK]
> del key        # 删除键值对
[OK]
> get key        # 获取键值对
[KEY NOT FOUND]
```

## 已经支持
1. 基本功能：单机KV存储
2. 线程池：可达百万并发量
3. Reactor模型：IO多路复用，快速处理请求
4. 消息队列：基于P/S模型，主要用于日志压缩和处理
5. 存储引擎：哈希表、跳表、Bitcask
6. HTTP协议、RESP协议和自定义的协议
7. 一致性哈希算法
8. 事务

## 即将支持
1. 分布式存储：基于raft算法
2. LSM Tree存储引擎
3. 更多数据类型
4. 限流器

## 已经完成的优化项
1. 零拷贝优化，对于 string 和 []byte 的互相转换采用了零拷贝以避免内存复制的开销
2. Go GC优化，权衡了值传递和指针传递，避免了一些逃逸的内存所带来GC开销
3. 对象池，对于频繁创建的大对象，采用 sync.Pool 进行管理